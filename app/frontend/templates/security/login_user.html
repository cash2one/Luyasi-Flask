{% extends "qingbank/base.html" %}

{% from "macros/fieldmacros.html" import render_error %}

{% block title %}
{{_('Login')}}
{% endblock title%}

{% block container %}
	<div class="col-md-4 col-md-offset-8">
		<form class="form-horizontal" action="{{ url_for_security('login') }}" method="post" name="login_user_form">
			{{ login_user_form.hidden_tag() }}
			<h2>{{_('Login')}}</h2>

			<div class="form-group">
				{{login_user_form.email(class="form-control", placeholder=_("username or email"), autofocus="")}}
				{{render_error(login_user_form.email)}}
			</div>
			<div class="form-group">
				{{login_user_form.password(class="form-control", placeholder=_("password"))}}
				{{render_error(login_user_form.password)}}
			</div>
			<div class="form-group">
				<label class="checkbox">
					{{login_user_form.remember}}{{_('remember me')}}
				</label>
			</div>
			<div class="form-group">
				<button class="btn btn-lg btn-primary btn-block" type="submit">{{_('login')}}</button>
			</div>
			<input type="hidden" name="next" value="{{ next }}" />
			<div class="text-center">
				{{_('No account?')}}<a href="{{url_for_security('register')}}">{{_('Signup')}}</a>
			</div>
			<div class="text-center">
				<a href="{{url_for_security('forgot_password')}}">{{_('Forget password')}}</a>
			</div>
			<input type="hidden" name="next" value="http://localhost:5000/qingbank">
		</form>
		<div>
			{% for pr in providers %}
				<a href="{{url_for_security('openid_login', openid=pr.url)}}">{{pr.name}}</a>|
			{% endfor %}
		</div>
		<div>
			<a href="{{url_for('openid-qq-frontend.openid_authenticate', provider='qq', next=login_user_form.next.data)}}">
				<img src="{{ url_for('static', filename='qingbank/icon/qq_bt_blue_76X24.png') }}" />
			</a>
		</div>
	</div>
{% endblock %}